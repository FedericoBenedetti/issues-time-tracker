<h1> electron/angular2 issues tracking app </h1>

<kendo-dialog title="Error" *ngIf="isError" (close)="close()">
    <p style="margin: 30px; text-align: center;">Error ({{errNumber}})</p>
    <kendo-dialog-actions>
        <button kendoButton (click)="close()">Close</button>
    </kendo-dialog-actions>
</kendo-dialog>

<div>
    <p>Groups:</p>
    <kendo-combobox [data]="comboBoxGroup"
                    (valueChange)="valueChange($event)">
    </kendo-combobox>
</div>

<kendo-grid [data]="gridView"
            [sortable]="{ mode: 'multiple' }"
            [sort]="sort" (sortChange)="sortChange($event)"
            [pageSize]="pageSize"
            [skip]="skip"
            [pageable]="true"
            (pageChange)="pageChange($event)">

    <kendo-grid-column field="id" title="Project ID">
    </kendo-grid-column>
    <kendo-grid-column field="name" title="Project Name">
    </kendo-grid-column>
    <kendo-grid-column field="nActive" title="Opened Issue">
    </kendo-grid-column>
    <kendo-grid-column field="nClosed" title="Closed Issue">
    </kendo-grid-column>
    <kendo-grid-column field="timeOut" title="Issue out of time">
        <ng-template kendoGridCellTemplate let-dataItem>
            {{dataItem.timeOut}}
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="timeEstimated" title="Time Estimated">
        <ng-template kendoGridCellTemplate let-dataItem>
            {{dataItem.timeEstimated.h}} h
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="timeSpent" title="Time Spent">
        <ng-template kendoGridCellTemplate let-dataItem>
            {{dataItem.timeSpent.h}} h
        </ng-template>
    </kendo-grid-column>
    <ng-template kendoGridDetailTemplate let-dataItem [kendoGridDetailTemplateShowIf]="checkLength">
        <div *ngFor="let item of dataItem.timeOutIssue">
            <table>
                <tr>
                    <td>
                        <p id="grid-detail" style="margin-left: 1em"><strong>Name:</strong> {{item.title}}</p>
                    </td>
                    <td>
                        <p id="grid-detail"><strong>State:</strong> {{item.state}}</p>
                    </td>
                    <td>
                        <p id="grid-detail"><strong>IID:</strong> {{item.iid}}</p>
                    </td>
                    <td>
                        <p id="grid-detail"><strong>Time Estimated:</strong> {{item.time_estimate}}</p> s
                    </td>
                    <td>
                        <p id="grid-detail"><strong>Time Spent:</strong> {{item.total_time_spent}}</p> s
                    </td>
                </tr>
            </table>
        </div>
    </ng-template>
</kendo-grid>
